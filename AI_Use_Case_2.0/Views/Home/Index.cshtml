@{
    ViewData["Title"] = "Use Case 2";
}

<h1>Use Case 2</h1>

@using (Html.BeginForm("Get", "Home", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    <label>Use File as Reference:</label>
    <input type="checkbox" name="useFileAsReference" />
    <br />

    <label>Prompt:</label>
    <input type="text" name="prompt" />
    <br />

    <label>Upload CSV File:</label>
    <input type="file" name="file" accept=".csv" />
    <br />

    <label>Filename for Response:</label>
    <input type="text" name="filename" />
    <br />

    <input type="submit" value="Submit" />
}

@if (ViewBag.FileNames != null && ViewBag.FileNames.Count > 0)
{
    <h2>Generated Responses:</h2>
    @for (int i = 0; i < ViewBag.FileNames.Count; i++)
    {
        string fileName = ViewBag.FileNames[i];
        <p>
            <a href="@Url.Action("Download", new { fileName = fileName })">@fileName</a>
        </p>
    }
}
